# üöÄ Quick Start Guide - Refactored img_ana Module

## ‚úÖ Refactoring Complete!

‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° **1446 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î** ‡∏ñ‡∏π‡∏Å refactor ‡πÄ‡∏õ‡πá‡∏ô **11 modules** ‡πÅ‡∏•‡πâ‡∏ß!

## üìÅ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô

```
img_ana/                          # ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå modules ‡∏´‡∏•‡∏±‡∏Å
‚îú‚îÄ‚îÄ core/                         # ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï
‚îÇ   ‚îú‚îÄ‚îÄ physics.py               # MLP calculations
‚îÇ   ‚îî‚îÄ‚îÄ geometry.py              # Hull creation
‚îú‚îÄ‚îÄ processing/                   # ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py           # ‡πÇ‡∏´‡∏•‡∏î CSV
‚îÇ   ‚îú‚îÄ‚îÄ trajectory.py            # ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á
‚îÇ   ‚îî‚îÄ‚îÄ projection.py            # Back-projection
‚îú‚îÄ‚îÄ visualization/                # ‡∏ß‡∏≤‡∏î‡∏†‡∏≤‡∏û
‚îÇ   ‚îî‚îÄ‚îÄ plotting.py              # ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û
‚îú‚îÄ‚îÄ utils/                        # ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢
‚îÇ   ‚îú‚îÄ‚îÄ timer.py                 # Timer
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py               # ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢
‚îú‚îÄ‚îÄ reconstruction.py             # Class ‡∏´‡∏•‡∏±‡∏Å
‚îî‚îÄ‚îÄ README.md                     # ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

hull_fast_optimized_backup.py    # ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏° (backup)
example_using_modules.py          # ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
test_modules.py                   # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö modules
REFACTORING_SUMMARY.md            # ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£ refactor
```

## üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Modules ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ import ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
python test_modules.py

# ‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ:
# ALL TESTS PASSED!
```

## üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏î‡∏¥‡∏° (‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ - ‡∏°‡∏µ backup)

```python
from hull_fast_optimized_backup import HullImageReconstructionFastOptimized

ir = HullImageReconstructionFastOptimized(
    csv_paths=['data.csv'],
    output_path='./output',
    device='cuda'
)
result = ir.fBackProjection(use_hull=True)
```

### 2. ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏´‡∏°‡πà (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤)

```python
from img_ana import HullImageReconstruction

reconstructor = HullImageReconstruction(
    csv_paths=['data.csv'],
    output_path='./output',
    device='cuda'
)
result = reconstructor.reconstruct(use_hull=True)
```

### 3. ‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö Command Line

```bash
# ‡∏î‡∏π‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
python example_using_modules.py --help

# ‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢
python example_using_modules.py \
    --csv_folder /path/to/csv \
    --output ./output \
    --device cuda

# ‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤
python example_using_modules.py \
    --csv_folder /path/to/csv \
    --output ./output \
    --device cuda \
    --resolution_xy 512 \
    --resolution_z 512 \
    --hull_geometry oneFourth_cylinder
```

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢!

### ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå?
‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß: [img_ana/core/physics.py](img_ana/core/physics.py:1)

```python
# img_ana/core/physics.py
def analytical_sigma_sq_n(xi, xf, n):
    """‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ"""
    # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
    pass
```

### ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏†‡∏≤‡∏û?
‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß: [img_ana/visualization/plotting.py](img_ana/visualization/plotting.py:1)

```python
# img_ana/visualization/plotting.py
def save_image_fast(array, ...):
    plt.imshow(array, cmap='hot')  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô colormap
```

### ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° hull ‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÉ‡∏´‡∏°‡πà?
‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß: [img_ana/core/geometry.py](img_ana/core/geometry.py:1)

```python
# img_ana/core/geometry.py
def create_hull(geometry, ...):
    if geometry == 'sphere':
        # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏°
        mask = (X**2 + Y**2 + Z**2) <= R**2
```

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô-‡∏´‡∏•‡∏±‡∏á

| ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ | ‡∏Å‡πà‡∏≠‡∏ô Refactor | ‡∏´‡∏•‡∏±‡∏á Refactor |
|--------|---------------|---------------|
| ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå | 1 ‡πÑ‡∏ü‡∏•‡πå 1446 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | 11 modules ~150 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î/module |
| ‡∏´‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå | ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô 1446 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | ‡πÄ‡∏õ‡∏¥‡∏î `core/physics.py` |
| ‡πÅ‡∏Å‡πâ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• | ‡∏´‡∏≤‡πÉ‡∏ô class ‡πÉ‡∏´‡∏ç‡πà | ‡πÅ‡∏Å‡πâ `visualization/plotting.py` |
| Test ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß | ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î | Import module ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö |
| ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô module ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á |

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÇ‡∏°‡∏î‡∏π‡∏•**: [img_ana/README.md](img_ana/README.md)
- **‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£ refactor**: [REFACTORING_SUMMARY.md](REFACTORING_SUMMARY.md)
- **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î**: [example_using_modules.py](example_using_modules.py:1)

## üéØ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á Refactoring

‚úÖ **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢** - ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå
‚úÖ **‡∏´‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡πá‡∏ß** - ‡∏£‡∏π‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà module ‡πÑ‡∏´‡∏ô
‚úÖ **Test ‡∏á‡πà‡∏≤‡∏¢** - ‡πÅ‡∏ï‡πà‡∏•‡∏∞ module ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏¢‡∏Å‡πÑ‡∏î‡πâ
‚úÖ **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏á‡πà‡∏≤‡∏¢** - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
‚úÖ **Reuse ‡πÑ‡∏î‡πâ** - ‡πÄ‡∏≠‡∏≤ module ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô
‚úÖ **Type hints** - IDE ‡∏ä‡πà‡∏ß‡∏¢ autocomplete
‚úÖ **Documentation** - ‡∏°‡∏µ docstring ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å function

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏ñ‡∏π‡∏Å backup ‡πÄ‡∏õ‡πá‡∏ô `hull_fast_optimized_backup.py` ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£
- ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏ï‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å!

## üö¶ Next Steps

1. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö**: `python test_modules.py`
2. **‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**: `python example_using_modules.py --help`
3. **‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£**: ‡πÄ‡∏õ‡∏¥‡∏î `img_ana/README.md`
4. **‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô import ‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏°‡∏≤‡πÉ‡∏ä‡πâ `from img_ana import HullImageReconstruction`

## üéâ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!

‡πÇ‡∏Ñ‡πâ‡∏î **1446 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î** ‚Üí **11 modules** ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢ ‡∏Ñ‡∏£‡∏±‡∏ö!
